<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. 数据类型与变量 | Hot</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="安全开发工程师(打杂工程师)的学习笔记">
    
    <link rel="preload" href="/assets/css/0.styles.35bcedcf.css" as="style"><link rel="preload" href="/assets/js/app.c319bac8.js" as="script"><link rel="preload" href="/assets/js/2.ee734a59.js" as="script"><link rel="preload" href="/assets/js/12.c3457dbf.js" as="script"><link rel="prefetch" href="/assets/js/10.9841cdef.js"><link rel="prefetch" href="/assets/js/100.98c51b8e.js"><link rel="prefetch" href="/assets/js/101.80ca1839.js"><link rel="prefetch" href="/assets/js/102.1c33cf56.js"><link rel="prefetch" href="/assets/js/103.b0b93725.js"><link rel="prefetch" href="/assets/js/104.c0c62484.js"><link rel="prefetch" href="/assets/js/105.1134daba.js"><link rel="prefetch" href="/assets/js/106.f9a27c7b.js"><link rel="prefetch" href="/assets/js/107.d3560c2c.js"><link rel="prefetch" href="/assets/js/108.dc824726.js"><link rel="prefetch" href="/assets/js/109.56b97cf6.js"><link rel="prefetch" href="/assets/js/11.8bb5db91.js"><link rel="prefetch" href="/assets/js/110.9893b030.js"><link rel="prefetch" href="/assets/js/111.53623519.js"><link rel="prefetch" href="/assets/js/112.e5269575.js"><link rel="prefetch" href="/assets/js/113.2a3d6326.js"><link rel="prefetch" href="/assets/js/114.f28d91ec.js"><link rel="prefetch" href="/assets/js/115.4219f56e.js"><link rel="prefetch" href="/assets/js/116.2f15c358.js"><link rel="prefetch" href="/assets/js/117.7e79e8c3.js"><link rel="prefetch" href="/assets/js/118.cd0ccb4e.js"><link rel="prefetch" href="/assets/js/119.1a8f3bb4.js"><link rel="prefetch" href="/assets/js/120.22b3dd05.js"><link rel="prefetch" href="/assets/js/121.48115499.js"><link rel="prefetch" href="/assets/js/122.49df4874.js"><link rel="prefetch" href="/assets/js/123.bb366ac5.js"><link rel="prefetch" href="/assets/js/124.a1091dce.js"><link rel="prefetch" href="/assets/js/125.cba9e1c7.js"><link rel="prefetch" href="/assets/js/126.5632c4d7.js"><link rel="prefetch" href="/assets/js/127.83f20d12.js"><link rel="prefetch" href="/assets/js/128.df2f79c7.js"><link rel="prefetch" href="/assets/js/129.714ec10b.js"><link rel="prefetch" href="/assets/js/13.5a5564aa.js"><link rel="prefetch" href="/assets/js/130.f648ae53.js"><link rel="prefetch" href="/assets/js/14.31b1fb86.js"><link rel="prefetch" href="/assets/js/15.1f1a4999.js"><link rel="prefetch" href="/assets/js/16.2445c170.js"><link rel="prefetch" href="/assets/js/17.00149ca9.js"><link rel="prefetch" href="/assets/js/18.14f17999.js"><link rel="prefetch" href="/assets/js/19.4dfbf270.js"><link rel="prefetch" href="/assets/js/20.4f419716.js"><link rel="prefetch" href="/assets/js/21.04f10048.js"><link rel="prefetch" href="/assets/js/22.d5ea4ea8.js"><link rel="prefetch" href="/assets/js/23.2da0cb4d.js"><link rel="prefetch" href="/assets/js/24.171bad48.js"><link rel="prefetch" href="/assets/js/25.c648bffe.js"><link rel="prefetch" href="/assets/js/26.f7412ad6.js"><link rel="prefetch" href="/assets/js/27.3358de23.js"><link rel="prefetch" href="/assets/js/28.f4a4badf.js"><link rel="prefetch" href="/assets/js/29.5581c8fb.js"><link rel="prefetch" href="/assets/js/3.208249f8.js"><link rel="prefetch" href="/assets/js/30.4f07acfb.js"><link rel="prefetch" href="/assets/js/31.ad87b1d0.js"><link rel="prefetch" href="/assets/js/32.218c7530.js"><link rel="prefetch" href="/assets/js/33.06ce8d5f.js"><link rel="prefetch" href="/assets/js/34.e645d5f9.js"><link rel="prefetch" href="/assets/js/35.d3c03632.js"><link rel="prefetch" href="/assets/js/36.3b7139b6.js"><link rel="prefetch" href="/assets/js/37.9d30b16f.js"><link rel="prefetch" href="/assets/js/38.37e19265.js"><link rel="prefetch" href="/assets/js/39.a7a5a417.js"><link rel="prefetch" href="/assets/js/4.2ecfd9d7.js"><link rel="prefetch" href="/assets/js/40.8bd9d455.js"><link rel="prefetch" href="/assets/js/41.6a059dcc.js"><link rel="prefetch" href="/assets/js/42.e2361cae.js"><link rel="prefetch" href="/assets/js/43.7101e1e6.js"><link rel="prefetch" href="/assets/js/44.d8df0a7a.js"><link rel="prefetch" href="/assets/js/45.7b4583e6.js"><link rel="prefetch" href="/assets/js/46.6cf5ac92.js"><link rel="prefetch" href="/assets/js/47.ffd093f8.js"><link rel="prefetch" href="/assets/js/48.f69288ff.js"><link rel="prefetch" href="/assets/js/49.006a40a0.js"><link rel="prefetch" href="/assets/js/5.20014036.js"><link rel="prefetch" href="/assets/js/50.2a75a383.js"><link rel="prefetch" href="/assets/js/51.192e7cb9.js"><link rel="prefetch" href="/assets/js/52.cc5ea856.js"><link rel="prefetch" href="/assets/js/53.b963fae3.js"><link rel="prefetch" href="/assets/js/54.1e75d52b.js"><link rel="prefetch" href="/assets/js/55.aaf95197.js"><link rel="prefetch" href="/assets/js/56.b57fb18c.js"><link rel="prefetch" href="/assets/js/57.d6ec3a28.js"><link rel="prefetch" href="/assets/js/58.a59a2bb3.js"><link rel="prefetch" href="/assets/js/59.2fd766d2.js"><link rel="prefetch" href="/assets/js/6.1aac11ee.js"><link rel="prefetch" href="/assets/js/60.9e6636d0.js"><link rel="prefetch" href="/assets/js/61.83fb732b.js"><link rel="prefetch" href="/assets/js/62.4ade8f03.js"><link rel="prefetch" href="/assets/js/63.bc5bd52e.js"><link rel="prefetch" href="/assets/js/64.0ee3dd03.js"><link rel="prefetch" href="/assets/js/65.ef7b2f39.js"><link rel="prefetch" href="/assets/js/66.c4321bd0.js"><link rel="prefetch" href="/assets/js/67.d0758688.js"><link rel="prefetch" href="/assets/js/68.014193b5.js"><link rel="prefetch" href="/assets/js/69.a6114edb.js"><link rel="prefetch" href="/assets/js/7.1848bf21.js"><link rel="prefetch" href="/assets/js/70.e685c54f.js"><link rel="prefetch" href="/assets/js/71.504c2b6b.js"><link rel="prefetch" href="/assets/js/72.4c7505ad.js"><link rel="prefetch" href="/assets/js/73.6790e908.js"><link rel="prefetch" href="/assets/js/74.71d69108.js"><link rel="prefetch" href="/assets/js/75.72af672f.js"><link rel="prefetch" href="/assets/js/76.c4a9226c.js"><link rel="prefetch" href="/assets/js/77.d38a498d.js"><link rel="prefetch" href="/assets/js/78.871d750a.js"><link rel="prefetch" href="/assets/js/79.527e7a49.js"><link rel="prefetch" href="/assets/js/8.8534ef4e.js"><link rel="prefetch" href="/assets/js/80.715f442a.js"><link rel="prefetch" href="/assets/js/81.74a2b8bd.js"><link rel="prefetch" href="/assets/js/82.066897b9.js"><link rel="prefetch" href="/assets/js/83.c264466b.js"><link rel="prefetch" href="/assets/js/84.18734103.js"><link rel="prefetch" href="/assets/js/85.afd2f665.js"><link rel="prefetch" href="/assets/js/86.073fdd24.js"><link rel="prefetch" href="/assets/js/87.29303003.js"><link rel="prefetch" href="/assets/js/88.d3d4f30c.js"><link rel="prefetch" href="/assets/js/89.56c3e387.js"><link rel="prefetch" href="/assets/js/9.73e739d0.js"><link rel="prefetch" href="/assets/js/90.022513aa.js"><link rel="prefetch" href="/assets/js/91.3cece5cd.js"><link rel="prefetch" href="/assets/js/92.1f9fa6f9.js"><link rel="prefetch" href="/assets/js/93.35733127.js"><link rel="prefetch" href="/assets/js/94.71526dfb.js"><link rel="prefetch" href="/assets/js/95.eff5cd3e.js"><link rel="prefetch" href="/assets/js/96.a30824e0.js"><link rel="prefetch" href="/assets/js/97.1e11427f.js"><link rel="prefetch" href="/assets/js/98.522292bb.js"><link rel="prefetch" href="/assets/js/99.6bf29dfd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.35bcedcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hot</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sec/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  开发
</a></div><div class="nav-item"><a href="/ops/" class="nav-link">
  运维
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  杂记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><span class="title">开源项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="开源项目" class="mobile-dropdown-title"><span class="title">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/zmf963/showip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  show ip
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/subdomain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  subdomain
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/hotfinger" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hotfinger
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/HotSec" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sec/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  开发
</a></div><div class="nav-item"><a href="/ops/" class="nav-link">
  运维
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  杂记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><span class="title">开源项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="开源项目" class="mobile-dropdown-title"><span class="title">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/zmf963/showip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  show ip
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/subdomain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  subdomain
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/hotfinger" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hotfinger
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/HotSec" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-数据类型与变量"><a href="#_1-数据类型与变量" class="header-anchor">#</a> 1. 数据类型与变量</h1> <ul><li><a href="#11-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">1.1. 数据类型</a> <ul><li><a href="#111-nil-%E7%A9%BA">1.1.1. nil 空</a></li> <li><a href="#112-boolean-%E5%B8%83%E5%B0%94">1.1.2. boolean 布尔</a></li> <li><a href="#113-number-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B">1.1.3. number 数值类型</a></li> <li><a href="#114-sting-%E5%AD%97%E7%AC%A6%E4%B8%B2">1.1.4. sting 字符串</a></li> <li><a href="#115-function-%E5%87%BD%E6%95%B0">1.1.5. function 函数</a></li> <li><a href="#116-table-%E8%A1%A8">1.1.6. table 表</a> <ul><li><a href="#%E6%95%B0%E7%BB%84">数组</a></li> <li><a href="#%E9%94%AE%E5%80%BC">键值</a></li> <li><a href="#%E6%B7%B7%E5%90%88">混合</a></li></ul></li> <li><a href="#117-thread-%E7%BA%BF%E7%A8%8B">1.1.7. thread 线程</a></li> <li><a href="#118-userdata-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B">1.1.8. userdata 自定义类型</a></li> <li><a href="#119-%E5%88%86%E7%B1%BB">1.1.9. 分类</a></li></ul></li> <li><a href="#12-%E5%8F%98%E9%87%8F">1.2. 变量</a> <ul><li><a href="#121-%E8%AF%AD%E4%B9%89">1.2.1. 语义</a></li> <li><a href="#122-%E4%BD%9C%E7%94%A8%E5%9F%9F">1.2.2. 作用域</a></li> <li><a href="#%E8%A7%A3%E9%87%8A%E5%99%A8">解释器</a></li></ul></li></ul> <h2 id="_1-1-数据类型"><a href="#_1-1-数据类型" class="header-anchor">#</a> 1.1. 数据类型</h2> <p>在C和C++中，是有变量类型的，可以采用typeof(int)获取类型大小或变量的大小。在lua中，函数type能够返回一个值或一个变量所属的类型。</p> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">360.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="img/datatype.png" alt=""></p> <h3 id="_1-1-1-nil-空"><a href="#_1-1-1-nil-空" class="header-anchor">#</a> 1.1.1. nil 空</h3> <p>nil是一种类型，nil类型也就只有一种值就是nil。lua将nil用于表示&quot;无效值&quot;。一个变量在第一次赋值前的默认值是nil，将nil赋予给一个全局变量就等同于删除它。</p> <p>nil类型有点类似于C/C++中的NULL,其主要作用也是起一个标记位的作用。</p> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> num
<span class="token function">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
num <span class="token operator">=</span> <span class="token number">100</span>
<span class="token function">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="img/nilpng.png" alt=""></p> <h3 id="_1-1-2-boolean-布尔"><a href="#_1-1-2-boolean-布尔" class="header-anchor">#</a> 1.1.2. boolean 布尔</h3> <p>布尔类型，可选值只有true/false; Lua中nil和false为“假”，其他所有值都为“真”。</p> <p><strong>注意：真假判断与C++的真假判断有出入</strong></p> <p><img src="img/lua_bool.png" alt=""></p> <h3 id="_1-1-3-number-数值类型"><a href="#_1-1-3-number-数值类型" class="header-anchor">#</a> 1.1.3. number 数值类型</h3> <p>数值类型用于表示整数和实数，取值可为任意整数和实数。</p> <p>可以用math.floor(3.14)和math.ceil(3.14)进行向下或向上取整。</p> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code>
<span class="token keyword">local</span> pi_num <span class="token operator">=</span> <span class="token number">3.14</span>
<span class="token function">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>pi_num<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>pi_num<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="img/lua_number.png" alt=""></p> <p>一般的，lua的number类型就是C/C++中的long long int或double类型来实现的。</p> <h3 id="_1-1-4-sting-字符串"><a href="#_1-1-4-sting-字符串" class="header-anchor">#</a> 1.1.4. sting 字符串</h3> <p>字符串类型，lua中取值有两种方式。</p> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> str1 <span class="token operator">=</span> <span class="token string">'hello lua'</span>
<span class="token keyword">local</span> str2 <span class="token operator">=</span> <span class="token string">&quot;hello lua for vscode\n&quot;</span>
<span class="token keyword">local</span> str3 <span class="token operator">=</span> <span class="token string">[[
    多行字符串\r\n，类似于C++中的 R&quot;(hello lua)&quot;
    python中的  &quot;&quot;&quot;python&quot;&quot;&quot;
]]</span>
<span class="token keyword">local</span> str4 <span class="token operator">=</span> <span class="token string">[=[string have a [[]].]=]</span>  <span class="token comment">-- [=[]=]等号两侧不可以有空格，主要是为了配对</span>
<span class="token comment">-- local str5 = [[string have a [[]]]]  -- error</span>

<span class="token function">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span>str2<span class="token punctuation">,</span>str3<span class="token punctuation">,</span>str4<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="img/string4.png" alt=""></p> <h3 id="_1-1-5-function-函数"><a href="#_1-1-5-function-函数" class="header-anchor">#</a> 1.1.5. function 函数</h3> <p>在lua中，函数也是一种数据类型， first-class, 一等公民</p> <p>函数可以存储在变量中，可以通过作参数传递给其他函数，还可以作为其他函数的返回值。</p> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;in the function&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> x <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">local</span> y <span class="token operator">=</span> <span class="token number">42</span>
    <span class="token keyword">return</span> x<span class="token operator">+</span>y
<span class="token keyword">end</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">local</span> a <span class="token operator">=</span> foo <span class="token comment">-- 将函数赋值给变量</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token function">func</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="img/img/function.png" alt=""></p> <p>有名函数的定义本质上是匿名函数对变量的赋值。</p> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token comment">-- 等价于</span>
foo <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>


<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token comment">-- 等价于</span>
<span class="token keyword">local</span> foo <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_1-1-6-table-表"><a href="#_1-1-6-table-表" class="header-anchor">#</a> 1.1.6. table 表</h3> <p>Table类型基于k-v类型，实现了一种抽象的<code>&quot;map&lt;k, v&gt;&quot;</code>。</p> <p>这是一种具有特殊索引方式的数组。</p> <p>索引K通常是string或者number类型，但也可以是除了nil以外的任意类型的值。</p> <p>值v则可以是lua中的任意类型。</p> <blockquote><p>与STL中的<code>unordered_map&lt;string/number,any&gt;</code>有些类似。</p></blockquote> <h4 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h4> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span> <span class="token keyword">do</span>   <span class="token comment">-- lua的下标从1开始</span>
    <span class="token function">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="键值"><a href="#键值" class="header-anchor">#</a> 键值</h4> <p>对于无 key 的类型，此时的 key 类型为 number，下标从 1 开始，下标依次累加。</p> <p>有 key 有则实现为 hash， key 为 string 时有两种表现形式，表内{web = } {[&quot;web&quot;] = }
表外，t.web 和 t[ &quot;web&quot; ]。</p> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> map <span class="token operator">=</span> <span class="token punctuation">{</span>one <span class="token operator">=</span> <span class="token string">&quot;nzhsoft&quot;</span><span class="token punctuation">,</span> two <span class="token operator">=</span> <span class="token string">&quot;nzhsoft&quot;</span><span class="token punctuation">,</span> first <span class="token operator">=</span> <span class="token string">&quot;nzhsoft&quot;</span><span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span>one<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span>two<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span>first<span class="token punctuation">)</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span> <span class="token keyword">do</span>
  <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token keyword">end</span>
map<span class="token punctuation">.</span>one <span class="token operator">=</span> <span class="token string">&quot;china&quot;</span>
map<span class="token punctuation">.</span>two <span class="token operator">=</span> <span class="token string">&quot;china&quot;</span>
map<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token string">&quot;china&quot;</span>
map<span class="token punctuation">.</span>second <span class="token operator">=</span> <span class="token string">&quot;china&quot;</span>
map<span class="token punctuation">.</span>third <span class="token operator">=</span> <span class="token string">&quot;china&quot;</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span> <span class="token keyword">do</span>
  <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="混合"><a href="#混合" class="header-anchor">#</a> 混合</h4> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> corp <span class="token operator">=</span> <span class="token punctuation">{</span>
    web <span class="token operator">=</span> <span class="token string">&quot;www.baidu.com&quot;</span><span class="token punctuation">,</span>
    telephone <span class="token operator">=</span> <span class="token string">&quot;12345678901&quot;</span><span class="token punctuation">,</span>
    yys <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;联通&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;移动&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;电信&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token number">10010</span><span class="token punctuation">,</span>
    <span class="token number">10086</span><span class="token punctuation">,</span>
    <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">160</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;city&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;sd&quot;</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span>corp<span class="token punctuation">.</span>web<span class="token punctuation">,</span>corp<span class="token punctuation">[</span><span class="token string">&quot;telephone&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>corp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>corp<span class="token punctuation">[</span><span class="token string">'city'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>corp<span class="token punctuation">.</span>yys<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>corp<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>corp<span class="token punctuation">.</span>yss<span class="token punctuation">)</span>

<span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>corp<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="img/table_lua.png" alt=""></p> <p>在内部实现上，table通常实现为一个哈希表和一个数组、或两者的混合。具体的实现为何种形式，动态依赖于具体的table的键的分布特点。</p> <h3 id="_1-1-7-thread-线程"><a href="#_1-1-7-thread-线程" class="header-anchor">#</a> 1.1.7. thread 线程</h3> <h3 id="_1-1-8-userdata-自定义类型"><a href="#_1-1-8-userdata-自定义类型" class="header-anchor">#</a> 1.1.8. userdata 自定义类型</h3> <h3 id="_1-1-9-分类"><a href="#_1-1-9-分类" class="header-anchor">#</a> 1.1.9. 分类</h3> <p>Lua中总共有8种数据类型，分别是nil，boolen，number，string，function，table，thread，userdata。前4种属于基本数据类型 （传值），后4种属于对象类型（传引用）。</p> <h2 id="_1-2-变量"><a href="#_1-2-变量" class="header-anchor">#</a> 1.2. 变量</h2> <p>变量不过是存储到区域可以操作的名称，即指定内存的别名。</p> <p>它可以容纳不同类型的值，包括函数和表等。</p> <ul><li>变量名
<ul><li>由字母，数字和下划线组成</li> <li>它必须以字母或下划线开头</li> <li>大写和小写字母是敏感的，因为Lua是区分大小写的。</li></ul></li></ul> <p>此变量的命令，同C/C++中的语义基本相符。</p> <h3 id="_1-2-1-语义"><a href="#_1-2-1-语义" class="header-anchor">#</a> 1.2.1. 语义</h3> <p>命名虽然同C/C++中的基本相符，但就其语义来讲，相去甚远。</p> <p>lua是弱类型/动态类型的语言，即，变量没有类型，而数值有类型。</p> <p>变量的类型是由数值决定的。</p> <h3 id="_1-2-2-作用域"><a href="#_1-2-2-作用域" class="header-anchor">#</a> 1.2.2. 作用域</h3> <p>变量的作用范围</p> <ul><li>开始于声明它们之后的第一个语句段，</li> <li>结束于包含这个声明的最内层语句块的最后一个非空语句。</li></ul> <div class="language-lua line-numbers-mode"><pre class="language-lua"><code>x <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">-- 全局变量</span>
<span class="token keyword">do</span> <span class="token comment">-- 新的语句块</span>
    <span class="token keyword">local</span> x <span class="token operator">=</span> x <span class="token comment">-- 新的一个 'x', 它的值现在是 10</span>
    <span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">--&gt; 10</span>
    x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">do</span> <span class="token comment">-- 另一个语句块</span>
        <span class="token keyword">local</span> x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">-- 又一个 'x'</span>
        <span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">--&gt; 12</span>
    <span class="token keyword">end</span>
    <span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">--&gt; 11</span>
<span class="token keyword">end</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">--&gt; 10 （取到的是全局的那一个）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>域(函数 / do end)以内的local才属于域，域以外的全局依然是全局。</p> <ul><li>全局变量
<ul><li>所有的变量默认是全局，除非显式地声明为local局部。全局变量可以不定义直接使用，默认为nil</li></ul></li> <li>局部变量
<ul><li>当类型被指定为local局部的一个变量，它的范围是在有限的在自己的范围内使用。需要加local修饰，默认值为nil</li></ul></li></ul> <h3 id="解释器"><a href="#解释器" class="header-anchor">#</a> 解释器</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/4/2024, 10:16:52 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c319bac8.js" defer></script><script src="/assets/js/2.ee734a59.js" defer></script><script src="/assets/js/12.c3457dbf.js" defer></script>
  </body>
</html>
