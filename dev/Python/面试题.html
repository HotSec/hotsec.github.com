<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试题 | Hot</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="安全开发工程师(打杂工程师)的学习笔记">
    
    <link rel="preload" href="/assets/css/0.styles.35bcedcf.css" as="style"><link rel="preload" href="/assets/js/app.c319bac8.js" as="script"><link rel="preload" href="/assets/js/2.ee734a59.js" as="script"><link rel="preload" href="/assets/js/79.527e7a49.js" as="script"><link rel="prefetch" href="/assets/js/10.9841cdef.js"><link rel="prefetch" href="/assets/js/100.98c51b8e.js"><link rel="prefetch" href="/assets/js/101.80ca1839.js"><link rel="prefetch" href="/assets/js/102.1c33cf56.js"><link rel="prefetch" href="/assets/js/103.b0b93725.js"><link rel="prefetch" href="/assets/js/104.c0c62484.js"><link rel="prefetch" href="/assets/js/105.1134daba.js"><link rel="prefetch" href="/assets/js/106.f9a27c7b.js"><link rel="prefetch" href="/assets/js/107.d3560c2c.js"><link rel="prefetch" href="/assets/js/108.dc824726.js"><link rel="prefetch" href="/assets/js/109.56b97cf6.js"><link rel="prefetch" href="/assets/js/11.8bb5db91.js"><link rel="prefetch" href="/assets/js/110.9893b030.js"><link rel="prefetch" href="/assets/js/111.53623519.js"><link rel="prefetch" href="/assets/js/112.e5269575.js"><link rel="prefetch" href="/assets/js/113.2a3d6326.js"><link rel="prefetch" href="/assets/js/114.f28d91ec.js"><link rel="prefetch" href="/assets/js/115.4219f56e.js"><link rel="prefetch" href="/assets/js/116.2f15c358.js"><link rel="prefetch" href="/assets/js/117.7e79e8c3.js"><link rel="prefetch" href="/assets/js/118.cd0ccb4e.js"><link rel="prefetch" href="/assets/js/119.1a8f3bb4.js"><link rel="prefetch" href="/assets/js/12.c3457dbf.js"><link rel="prefetch" href="/assets/js/120.22b3dd05.js"><link rel="prefetch" href="/assets/js/121.48115499.js"><link rel="prefetch" href="/assets/js/122.49df4874.js"><link rel="prefetch" href="/assets/js/123.bb366ac5.js"><link rel="prefetch" href="/assets/js/124.a1091dce.js"><link rel="prefetch" href="/assets/js/125.cba9e1c7.js"><link rel="prefetch" href="/assets/js/126.5632c4d7.js"><link rel="prefetch" href="/assets/js/127.83f20d12.js"><link rel="prefetch" href="/assets/js/128.df2f79c7.js"><link rel="prefetch" href="/assets/js/129.714ec10b.js"><link rel="prefetch" href="/assets/js/13.5a5564aa.js"><link rel="prefetch" href="/assets/js/130.f648ae53.js"><link rel="prefetch" href="/assets/js/14.31b1fb86.js"><link rel="prefetch" href="/assets/js/15.1f1a4999.js"><link rel="prefetch" href="/assets/js/16.2445c170.js"><link rel="prefetch" href="/assets/js/17.00149ca9.js"><link rel="prefetch" href="/assets/js/18.14f17999.js"><link rel="prefetch" href="/assets/js/19.4dfbf270.js"><link rel="prefetch" href="/assets/js/20.4f419716.js"><link rel="prefetch" href="/assets/js/21.04f10048.js"><link rel="prefetch" href="/assets/js/22.d5ea4ea8.js"><link rel="prefetch" href="/assets/js/23.2da0cb4d.js"><link rel="prefetch" href="/assets/js/24.171bad48.js"><link rel="prefetch" href="/assets/js/25.c648bffe.js"><link rel="prefetch" href="/assets/js/26.f7412ad6.js"><link rel="prefetch" href="/assets/js/27.3358de23.js"><link rel="prefetch" href="/assets/js/28.f4a4badf.js"><link rel="prefetch" href="/assets/js/29.5581c8fb.js"><link rel="prefetch" href="/assets/js/3.208249f8.js"><link rel="prefetch" href="/assets/js/30.4f07acfb.js"><link rel="prefetch" href="/assets/js/31.ad87b1d0.js"><link rel="prefetch" href="/assets/js/32.218c7530.js"><link rel="prefetch" href="/assets/js/33.06ce8d5f.js"><link rel="prefetch" href="/assets/js/34.e645d5f9.js"><link rel="prefetch" href="/assets/js/35.d3c03632.js"><link rel="prefetch" href="/assets/js/36.3b7139b6.js"><link rel="prefetch" href="/assets/js/37.9d30b16f.js"><link rel="prefetch" href="/assets/js/38.37e19265.js"><link rel="prefetch" href="/assets/js/39.a7a5a417.js"><link rel="prefetch" href="/assets/js/4.2ecfd9d7.js"><link rel="prefetch" href="/assets/js/40.8bd9d455.js"><link rel="prefetch" href="/assets/js/41.6a059dcc.js"><link rel="prefetch" href="/assets/js/42.e2361cae.js"><link rel="prefetch" href="/assets/js/43.7101e1e6.js"><link rel="prefetch" href="/assets/js/44.d8df0a7a.js"><link rel="prefetch" href="/assets/js/45.7b4583e6.js"><link rel="prefetch" href="/assets/js/46.6cf5ac92.js"><link rel="prefetch" href="/assets/js/47.ffd093f8.js"><link rel="prefetch" href="/assets/js/48.f69288ff.js"><link rel="prefetch" href="/assets/js/49.006a40a0.js"><link rel="prefetch" href="/assets/js/5.20014036.js"><link rel="prefetch" href="/assets/js/50.2a75a383.js"><link rel="prefetch" href="/assets/js/51.192e7cb9.js"><link rel="prefetch" href="/assets/js/52.cc5ea856.js"><link rel="prefetch" href="/assets/js/53.b963fae3.js"><link rel="prefetch" href="/assets/js/54.1e75d52b.js"><link rel="prefetch" href="/assets/js/55.aaf95197.js"><link rel="prefetch" href="/assets/js/56.b57fb18c.js"><link rel="prefetch" href="/assets/js/57.d6ec3a28.js"><link rel="prefetch" href="/assets/js/58.a59a2bb3.js"><link rel="prefetch" href="/assets/js/59.2fd766d2.js"><link rel="prefetch" href="/assets/js/6.1aac11ee.js"><link rel="prefetch" href="/assets/js/60.9e6636d0.js"><link rel="prefetch" href="/assets/js/61.83fb732b.js"><link rel="prefetch" href="/assets/js/62.4ade8f03.js"><link rel="prefetch" href="/assets/js/63.bc5bd52e.js"><link rel="prefetch" href="/assets/js/64.0ee3dd03.js"><link rel="prefetch" href="/assets/js/65.ef7b2f39.js"><link rel="prefetch" href="/assets/js/66.c4321bd0.js"><link rel="prefetch" href="/assets/js/67.d0758688.js"><link rel="prefetch" href="/assets/js/68.014193b5.js"><link rel="prefetch" href="/assets/js/69.a6114edb.js"><link rel="prefetch" href="/assets/js/7.1848bf21.js"><link rel="prefetch" href="/assets/js/70.e685c54f.js"><link rel="prefetch" href="/assets/js/71.504c2b6b.js"><link rel="prefetch" href="/assets/js/72.4c7505ad.js"><link rel="prefetch" href="/assets/js/73.6790e908.js"><link rel="prefetch" href="/assets/js/74.71d69108.js"><link rel="prefetch" href="/assets/js/75.72af672f.js"><link rel="prefetch" href="/assets/js/76.c4a9226c.js"><link rel="prefetch" href="/assets/js/77.d38a498d.js"><link rel="prefetch" href="/assets/js/78.871d750a.js"><link rel="prefetch" href="/assets/js/8.8534ef4e.js"><link rel="prefetch" href="/assets/js/80.715f442a.js"><link rel="prefetch" href="/assets/js/81.74a2b8bd.js"><link rel="prefetch" href="/assets/js/82.066897b9.js"><link rel="prefetch" href="/assets/js/83.c264466b.js"><link rel="prefetch" href="/assets/js/84.18734103.js"><link rel="prefetch" href="/assets/js/85.afd2f665.js"><link rel="prefetch" href="/assets/js/86.073fdd24.js"><link rel="prefetch" href="/assets/js/87.29303003.js"><link rel="prefetch" href="/assets/js/88.d3d4f30c.js"><link rel="prefetch" href="/assets/js/89.56c3e387.js"><link rel="prefetch" href="/assets/js/9.73e739d0.js"><link rel="prefetch" href="/assets/js/90.022513aa.js"><link rel="prefetch" href="/assets/js/91.3cece5cd.js"><link rel="prefetch" href="/assets/js/92.1f9fa6f9.js"><link rel="prefetch" href="/assets/js/93.35733127.js"><link rel="prefetch" href="/assets/js/94.71526dfb.js"><link rel="prefetch" href="/assets/js/95.eff5cd3e.js"><link rel="prefetch" href="/assets/js/96.a30824e0.js"><link rel="prefetch" href="/assets/js/97.1e11427f.js"><link rel="prefetch" href="/assets/js/98.522292bb.js"><link rel="prefetch" href="/assets/js/99.6bf29dfd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.35bcedcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hot</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sec/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  开发
</a></div><div class="nav-item"><a href="/ops/" class="nav-link">
  运维
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  杂记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><span class="title">开源项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="开源项目" class="mobile-dropdown-title"><span class="title">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/zmf963/showip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  show ip
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/subdomain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  subdomain
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/hotfinger" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hotfinger
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/HotSec" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sec/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  开发
</a></div><div class="nav-item"><a href="/ops/" class="nav-link">
  运维
</a></div><div class="nav-item"><a href="/other/" class="nav-link">
  杂记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><span class="title">开源项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="开源项目" class="mobile-dropdown-title"><span class="title">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/zmf963/showip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  show ip
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/subdomain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  subdomain
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/HotSec/hotfinger" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hotfinger
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/HotSec" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="面试题"><a href="#面试题" class="header-anchor">#</a> 面试题</h1> <h2 id="语言特性"><a href="#语言特性" class="header-anchor">#</a> 语言特性</h2> <ol><li><p>什么是鸭子类型</p> <ul><li>长的像鸭子，叫起来像样子 我们就任务它时鸭子</li></ul></li> <li><p>什么是monkey patch</p> <ul><li>所谓的猴子补丁，就是运行时替换</li> <li>比如gevent库需要修改内置的socket
<ul><li>from gevent import monkey</li> <li>monkey.patch_socket()</li></ul></li></ul></li> <li><p>什么时自省</p> <ol><li>运行时判断一个对象类型的能力</li> <li>python一切皆对象，用type\id\isinstance获取对象类型信息</li> <li>Inspect模块提供了更多获取对象信息的函数</li></ol></li> <li><p>is 与 == 的区别</p> <ol><li>is比较的是id 内存地址</li> <li>== 比较的值</li></ol></li> <li><p>什么时列表和字典推导</p> <ol><li>列表推导
<ol><li>[i for i in range(10) if i%2 == 0]</li> <li>一种快速生成list/dict/set的方式。用来替代map/filter等。</li> <li>(i for i in range(10) if i%2 == 0) 返回生成器</li></ol></li> <li>字典推导
<ol><li>{k:v for k,v in zip({'a','b','c'},{1,2,3})}</li> <li>dict({k:v for k,v in zip({'a','b','c'},{1,2,3})</li></ol></li> <li>元组
<ol><li>tuple(x for x in ['a','b','c'])</li> <li>由于()这个类似列表生成式的形式被生成器占用了，所有元组推导式使用tuple()来进行。</li></ol></li></ol></li> <li><p>python 2/3 区别</p> <ol><li>print成为函数</li> <li>除法： Python3 返回浮点数</li> <li>字符编码
<ol><li>type(u'中文') unicode</li> <li>type('中文')  str</li></ol></li> <li>类型注解 type hint</li> <li>优化的super()方便直接调用父类函数</li> <li>高级解包操作 a,b, *rest = range(10)</li> <li>python3改进
<ol><li>限定关键字参数 / *</li> <li>重新抛出异常不会丢失栈信息</li> <li>range zip map dict.values都是返回迭代器</li> <li>生成的pyc文件统一放到__pycache__</li> <li>内置库的修改。urllib,selector等</li> <li>性能优化等。。。</li></ol></li> <li>python3新增
<ol><li>yielf from 链接子生成器</li> <li>asyncio内置库，async/await原生协程支持异步编程</li> <li>新的内置库 enum,mock,asyncio,ipaddress,concurrent.futures等</li></ol></li> <li>一些兼容2/3的工具
<ol><li>six模块</li> <li>2to3等工具转换代码</li> <li><strong>future</strong></li></ol></li></ol></li> <li><p>python 函数</p> <ol><li>可变/不可变类型作为参数</li> <li>python如何传递参数
<ol><li>call by object/ call by sharing 共享传参</li> <li>nul</li></ol></li></ol></li> <li><p>python深拷贝与浅拷贝</p></li> <li><p>python中如何正确初始化一个二维数组</p></li> <li><p>面向对象</p> <ol><li>什么时面向对象编程</li> <li>把对象作为基本单元，把对象抽象程类，包含成员和方法</li> <li>数据封装、继承、多态
4.Python中使用类class来实现</li></ol></li> <li><p>类变量和实例变量的区别</p> <ol><li>类变量由所有实例共享</li> <li>实例变量由实例单独享有，不同实例之间不影响</li> <li>当我们需要在一个类的不同实例之间共享变量的时候使用类变量</li></ol></li> <li><p>classmethod vs staticmethod</p> <ol><li>都可以通过Class.method()的方式使用</li> <li>classmethod第一个参数时cls, 可以引用类变量</li> <li>staticmethod使用起来和普通函数一样，只不过放在类里面去组织</li></ol></li> <li><p>什么是元类？使用场景</p> <ol><li><p>元类MetaClass是创建类的类</p></li> <li><p>元类允许我们控制类的生成，比如修改类的属性等</p></li> <li><p>使用type来定义元类</p></li> <li><p>元类最常见的一个使用场景就是ORM框架</p></li> <li><div class="language-python line-numbers-mode"><pre class="language-python"><code>
  <span class="token keyword">class</span> <span class="token class-name">LowercaseMeta</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token triple-quoted-string string">&quot;&quot;&quot;修改类的属性名称为小写的元类&quot;&quot;&quot;</span>
     <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>mcs<span class="token punctuation">,</span> name<span class="token punctuation">,</span> bases<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        lower_attrs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> attrs<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
              <span class="token keyword">if</span> <span class="token keyword">not</span> k<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;__&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                 lower_attrs<span class="token punctuation">[</span>k<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> v
              <span class="token keyword">else</span><span class="token punctuation">:</span>
                 lower_attrs<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v
        <span class="token keyword">return</span> <span class="token builtin">type</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>mcs<span class="token punctuation">,</span> name<span class="token punctuation">,</span> bases<span class="token punctuation">,</span> lower_attrs<span class="token punctuation">)</span>

  <span class="token keyword">class</span> <span class="token class-name">LowercaseClass</span><span class="token punctuation">(</span>metaclass<span class="token operator">=</span>LowercaseMeta<span class="token punctuation">)</span><span class="token punctuation">:</span>
     BAR <span class="token operator">=</span> <span class="token boolean">True</span>

     <span class="token keyword">def</span> <span class="token function">PING</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'pong'</span><span class="token punctuation">)</span>

  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>LowercaseClass<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ol></li> <li><p>Python装饰器常见考题</p> <ol><li><p>Python一切皆对象，函数也可以当做参数传递</p></li> <li><p>装饰器时接受函数作为参数，添加功能后返回一个新函数的函数</p></li> <li><p>Python中通过<code>@</code>使用装饰器</p></li> <li><p>使用装饰器给函数添加额外的功能，例如日志、时间记录、web框架绑定路由等</p></li> <li><div class="language-python line-numbers-mode"><pre class="language-python"><code>  <span class="token comment"># 基本的装饰器</span>
  <span class="token keyword">import</span> time

  <span class="token keyword">def</span> <span class="token function">log_time</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
     <span class="token keyword">def</span> <span class="token function">_log</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        beg <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'use time:</span><span class="token interpolation"><span class="token punctuation">{</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> beg<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
     <span class="token keyword">return</span> _log

  <span class="token decorator annotation punctuation">@log_time</span>  <span class="token comment"># `@` 就时一个语法糖，相当于mysleep = log_time(mysleep)</span>
  <span class="token keyword">def</span> <span class="token function">mysleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

  mysleep<span class="token punctuation">(</span><span class="token punctuation">)</span>

  newsleep <span class="token operator">=</span> log_time<span class="token punctuation">(</span>mysleep<span class="token punctuation">)</span>
  newsleep<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li> <li><div class="language-python line-numbers-mode"><pre class="language-python"><code>  <span class="token comment"># 使用类装饰器比较方便实现装饰器参数</span>
  <span class="token keyword">import</span> time


  <span class="token keyword">class</span> <span class="token class-name">LogTimeParams</span><span class="token punctuation">:</span>
     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> use_int<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>use_int <span class="token operator">=</span> use_int

     <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">_log</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
              beg <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
              res <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
              <span class="token keyword">if</span> self<span class="token punctuation">.</span>use_int<span class="token punctuation">:</span>
                 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;use time: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>beg<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
              <span class="token keyword">else</span><span class="token punctuation">:</span>
                 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;use time:</span><span class="token interpolation"><span class="token punctuation">{</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> beg<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
              <span class="token keyword">return</span> res

        <span class="token keyword">return</span> _log


  <span class="token decorator annotation punctuation">@LogTimeParams</span><span class="token punctuation">(</span>use_int<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># `@` 就时一个语法糖，相当于mysleep = log_time(mysleep)</span>
  <span class="token keyword">def</span> <span class="token function">mysleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>


  mysleep<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li></ol></li> <li><p>函数式编程</p> <ol><li><p>python支持部分函数式编程特性</p></li> <li><p>高阶函数：map/reduce/filter</p> <ol><li><div class="language-python line-numbers-mode"><pre class="language-python"><code>  <span class="token comment"># map 相当于把每个可迭代对象应用到函数</span>
  <span class="token comment"># 第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。</span>
  <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span>
  <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> i<span class="token operator">*</span><span class="token number">2</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span>

  <span class="token comment"># reduce 函数会对参数序列中元素进行累积</span>
  <span class="token comment"># 函数将一个数据集合（链表，元组等）中的所有数据进行下列操作：用传给 reduce 中的函数 function（有两个参数）先对集合中的第 1、2 个元素进行操作，得到的结果再与第三个数据用 function 函数运算，最后得到一个结果。</span>
  <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>
  <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span> x<span class="token operator">+</span>y<span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token number">15</span> 

  <span class="token comment"># filter() 返回符合函数要求的可迭代对象中的元素</span>
  <span class="token comment"># 用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。</span>
  <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
  <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ol></li> <li><p>无副作用，相同的参数产生相同的结果</p></li></ol></li> <li><p>什么时闭包</p> <ol><li><p>绑定了外部作用域的变量的函数</p></li> <li><p>即使程序离开外部作用域，如果闭包仍然可见，绑定变量不会被销毁</p></li> <li><p>每次运行外部函数都会重新创建闭包</p></li> <li><div class="language-python line-numbers-mode"><pre class="language-python"><code>  <span class="token keyword">from</span> functools <span class="token keyword">import</span> wraps

  <span class="token keyword">def</span> <span class="token function">cache</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 装饰器</span>
     store <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment"># 外部变量</span>

     <span class="token decorator annotation punctuation">@wraps</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span>
     <span class="token keyword">def</span> <span class="token function">_</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 闭包函数</span>
        <span class="token keyword">if</span> n <span class="token keyword">in</span> store<span class="token punctuation">:</span>
              <span class="token keyword">return</span> store<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
              res <span class="token operator">=</span> func<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
              store<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> res
              <span class="token keyword">return</span> res
     <span class="token keyword">return</span> _

  <span class="token decorator annotation punctuation">@cache</span>
  <span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
     <span class="token keyword">if</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
     <span class="token keyword">return</span> fib<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>

  <span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></li></ol></li> <li><p>linux常用命令</p></li> <li><p>进程、线程</p> <ol><li>进程和线程的区别
<ol><li>进程时堆运行时程序的封装，是系统资源调度和分配的基本单位</li> <li>线程时进程的子任务，cpu调度和分配的基本单位，实现进程内并发</li> <li>一个进程可以包含多个线程，线程依赖进程存在，并共享进程内存</li></ol></li> <li>什么是线程安全
<ol><li>一个操作可以在多线程环境中安全使用，获取正确的结果</li> <li>线程安全的操作好比线程时顺序执行而不是并发执行的</li></ol></li> <li>线程同步的方式
<ol><li>互斥锁： lock 通过互斥机制防止多个线程同时访问公共资源</li> <li>信号量：semphare  控制同一时刻多个线程访问同一个资源的线程数</li> <li>事件：event 通过通知的方式保持多个线程同步</li></ol></li> <li>进程间通信的方式
<ol><li>进程间传递信息或数据</li> <li>管道/匿名管道/有名管道(pipe)</li> <li>信号（Signal): 比如用户使用Ctrl+c产生SIGINT程序终止信号</li> <li>消息队列（Message)</li> <li>共享内存share memory</li> <li>信号量semaphore</li> <li>套接字socket</li></ol></li> <li>threading</li> <li>multiprocessing</li> <li>Multiprocessing.Process</li> <li>操作系统内存管理机制
<ol><li>分页机制
<ol><li>逻辑地址和物理地址分离的内存分配管理方案</li> <li>程序的逻辑地址换分为固定大小的页（Page) 4kb</li> <li>程序地址划分为同样大小的帧（Frame)</li> <li>通过页表对应逻辑地址和物理地址</li></ol></li> <li>分段机制
<ol><li>分段时为了满足代码的一些逻辑需求</li> <li>数据共享，数据保护，动态连接</li> <li>通过段表实现逻辑地址和物理地址的映射关系</li> <li>每个段内部时连续内存分配，段和段之间时离散分配的</li></ol></li> <li>虚拟内存</li> <li>内存抖动
<ol><li>频繁的页调度，进程不断产生缺页中断</li> <li>置换一个页，又不断再次需要这个页</li> <li>运行程序太多； 页面替换策略不好。终止进程或者增加物理内存</li></ol></li></ol></li></ol></li> <li><p>python的垃圾回收机制原理</p></li></ol> <h2 id="http"><a href="#http" class="header-anchor">#</a> http</h2> <ol><li><p>浏览器输入一个url中间经历的过程</p> <ol><li>中间涉及到了哪些过程</li> <li>包含哪些协议</li> <li>每个协议都干了什么</li> <li>dns查询-&gt;tcp连接-&gt;http请求-&gt;代理/负载均衡-&gt;uwsgi/gunicorn/asgi -&gt; web app响应</li></ol></li> <li><p>tcp三次握手</p></li> <li><p>http请求的组成</p> <ol><li><div class="language-bash line-numbers-mode"><pre class="language-bash"><code> <span class="token operator">&gt;</span> <span class="token function">curl</span> -X GET <span class="token string">&quot;http://httpbin.org/anything&quot;</span> -H <span class="token string">&quot;accept: application/json&quot;</span> -v
 Note: Unnecessary use of -X or --request, GET is already inferred.
 *   Trying <span class="token number">75.101</span>.131.185:80<span class="token punctuation">..</span>.
 * Connected to httpbin.org <span class="token punctuation">(</span><span class="token number">75.101</span>.131.185<span class="token punctuation">)</span> port <span class="token number">80</span> <span class="token punctuation">(</span><span class="token comment">#0)</span>
 <span class="token operator">&gt;</span> GET /anything HTTP/1.1
 <span class="token operator">&gt;</span> Host: httpbin.org
 <span class="token operator">&gt;</span> User-Agent: curl/8.0.1
 <span class="token operator">&gt;</span> accept: application/json
 <span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span> HTTP/1.1 <span class="token number">200</span> OK
 <span class="token operator">&lt;</span> Date: Wed, <span class="token number">13</span> Dec <span class="token number">2023</span> 08:34:12 GMT
 <span class="token operator">&lt;</span> Content-Type: application/json
 <span class="token operator">&lt;</span> Content-Length: <span class="token number">355</span>
 <span class="token operator">&lt;</span> Connection: keep-alive
 <span class="token operator">&lt;</span> Server: gunicorn/19.9.0
 <span class="token operator">&lt;</span> Access-Control-Allow-Origin: *
 <span class="token operator">&lt;</span> Access-Control-Allow-Credentials: <span class="token boolean">true</span>
 <span class="token operator">&lt;</span>
 <span class="token punctuation">{</span>
 <span class="token string">&quot;args&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
 <span class="token string">&quot;data&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
 <span class="token string">&quot;files&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
 <span class="token string">&quot;form&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
 <span class="token string">&quot;headers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
     <span class="token string">&quot;Accept&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;application/json&quot;</span>,
     <span class="token string">&quot;Host&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;httpbin.org&quot;</span>,
     <span class="token string">&quot;User-Agent&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;curl/8.0.1&quot;</span>,
     <span class="token string">&quot;X-Amzn-Trace-Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Root=1-65796c84-451c27fe19637ad425ef1d19&quot;</span>
 <span class="token punctuation">}</span>,
 <span class="token string">&quot;json&quot;</span><span class="token builtin class-name">:</span> null,
 <span class="token string">&quot;method&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;GET&quot;</span>,
 <span class="token string">&quot;origin&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;106.39.149.122&quot;</span>,
 <span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;http://httpbin.org/anything&quot;</span>
 <span class="token punctuation">}</span>
 * Connection <span class="token comment">#0 to host httpbin.org left intact</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li></ol></li> <li><p>http长连接</p></li> <li><p>cookie和session的区别</p> <ol><li>session一般时服务器生成之后给客户端</li> <li>cookie时实现session的一种机制，通过HTTP cookie字典实现</li> <li>session通过在服务器保存sessionid识别用户，cookie存储在客户端</li> <li>Set-Cookie</li> <li>Cookie</li> <li>session_id 放在cookie或者url查询参数中</li></ol></li></ol> <h2 id="_23种设计模式"><a href="#_23种设计模式" class="header-anchor">#</a> 23种设计模式</h2> <h3 id="创建型"><a href="#创建型" class="header-anchor">#</a> 创建型</h3> <ol><li><p>工厂模式Factory:解决对象创建问题</p> <ol><li><p>解决对象创建问题</p></li> <li><p>解耦对象的创建和使用</p></li> <li><p>包括工厂方法和抽象工厂</p></li> <li><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 一个工厂方法的实例</span>
<span class="token keyword">class</span> <span class="token class-name">DogToy</span><span class="token punctuation">:</span>
   <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;wang wang&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CatToy</span><span class="token punctuation">:</span>
   <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>slef<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;miao miao&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">toy_factory</span><span class="token punctuation">(</span>toy_type<span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> toy_type <span class="token operator">==</span> <span class="token string">'dog'</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> DogToy<span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">elif</span> toy_type <span class="token operator">==</span> <span class="token string">'cat'</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> CatToy<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ol></li> <li><p>构造模式Builder: 控制复杂对象的创建</p> <ol><li>控制复杂对象的构造</li> <li>创建和表示分离。比如你要买电脑，工厂模式直接给你要的电脑</li> <li>但是构造模式允许你自己定义电脑的配置，组装完成后给你</li></ol></li> <li><p>原型模式Prototype: 通过原型的克隆创建新的实例</p> <ol><li>通过克隆原型来创建新的实例</li> <li>可以使用相同的原型，通过修改部分属性来创建新的实例</li> <li>用途：对于一些创建实例开销比较高的地方可以用原型模式</li></ol></li> <li><p>单例模式Borg/Singleton： 一个类只能创建同一个对象</p> <ol><li><p>单例的实现有多种方式</p> <ol><li>一个类创建出来的对象都时同一个实例</li> <li>Python的模块其实就时单例模式，只会导入一次</li> <li>使用共享同一个的实例的方式来创建单例模式</li></ol></li> <li><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 单例模式</span>
<span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">:</span>
   <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token string">'_instance'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            cls<span class="token punctuation">.</span>_instance <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
      <span class="token keyword">return</span> cls<span class="token punctuation">.</span>_instance

<span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span>Singleton<span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">pass</span>

c1 <span class="token operator">=</span> MyClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
c2 <span class="token operator">=</span> MyClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c1 <span class="token keyword">is</span> c2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span>c2<span class="token punctuation">)</span>
<span class="token keyword">assert</span> c1 <span class="token keyword">is</span> c2   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol></li> <li><p>对象池模式Pool：预先分配同一类型的一组实例</p></li> <li><p>惰性计算模式Lazy Evalution: 延迟计算（Python的property)</p></li></ol> <h3 id="结构型"><a href="#结构型" class="header-anchor">#</a> 结构型</h3> <ol><li><p>装饰器模式Decorator: 无需子类化扩展对象功能</p></li> <li><p>代理模式Proxy: 把一个对象的操作代理到另一个对象</p> <ol><li><div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token comment"># 代理模式</span>
 <span class="token keyword">from</span> collections <span class="token keyword">import</span> deque

 <span class="token keyword">class</span> <span class="token class-name">Stack</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       self<span class="token punctuation">.</span>_deque <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">return</span> self<span class="token punctuation">.</span>_deque<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">return</span> self<span class="token punctuation">.</span>_deque<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>_deque<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ol></li> <li><p>适配器模式Adapter: 通过一个间层适配统一接口、</p> <ol><li>把不同对象的接口适配到同一个接口</li> <li>当我们需要给不同的对象统一接口时可以使用适配器模式、</li></ol></li> <li><p>外观模式Facade: 简化复杂对象的访问问题</p></li> <li><p>享元模式Flywight: 通过对象复用（池）改善资源利用，比如连接池</p></li> <li><p>Model-View-Controller(MVC)： 解耦展示逻辑和业务逻辑</p></li></ol> <h3 id="行为型"><a href="#行为型" class="header-anchor">#</a> 行为型</h3> <ol><li><p>迭代器模式Iterator: 通过统一的接口迭代对象</p> <ol><li>Python内置堆迭代器模式的支持</li> <li>用for便利各种Iterable的数据类型</li> <li>Python里可以实现__next__和__iter__来实现迭代器模式</li></ol></li> <li><p>观察者模式</p> <ol><li><p>发布订阅是一种最常用的实现方式</p></li> <li><p>发布订阅用于解耦逻辑</p></li> <li><p>可以通过回调的方式实现，当发生事件时，调用相应的回调函数</p></li> <li><div class="language-python line-numbers-mode"><pre class="language-python"><code>     <span class="token comment"># 发布订阅模式</span>


     <span class="token keyword">class</span> <span class="token class-name">Publisher</span><span class="token punctuation">:</span>  <span class="token comment"># 发布者</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
           self<span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment"># 观察</span>

        <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> observer<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 加入观察者</span>
           <span class="token keyword">if</span> observer <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>observers<span class="token punctuation">:</span>
                 self<span class="token punctuation">.</span>observers<span class="token punctuation">.</span>append<span class="token punctuation">(</span>observer<span class="token punctuation">)</span>
           <span class="token keyword">else</span><span class="token punctuation">:</span>
                 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Failed to add: </span><span class="token interpolation"><span class="token punctuation">{</span>observer<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">remove</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> observer<span class="token punctuation">)</span><span class="token punctuation">:</span>
           <span class="token keyword">try</span><span class="token punctuation">:</span>
                 self<span class="token punctuation">.</span>observers<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>observer<span class="token punctuation">)</span>
           <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
                 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Failed to remove: </span><span class="token interpolation"><span class="token punctuation">{</span>observer<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">notify</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 调用观察者的回调</span>
           <span class="token punctuation">[</span>o<span class="token punctuation">.</span>notify_by<span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token keyword">for</span> o <span class="token keyword">in</span> self<span class="token punctuation">.</span>observers<span class="token punctuation">]</span>


     <span class="token keyword">class</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span>Publisher<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 继承自发布者</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
           <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
           self<span class="token punctuation">.</span>name <span class="token operator">=</span> NameError
           self<span class="token punctuation">.</span>_data <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token decorator annotation punctuation">@property</span>
        <span class="token keyword">def</span> <span class="token function">data</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
           <span class="token keyword">return</span> self<span class="token punctuation">.</span>_data

        <span class="token decorator annotation punctuation">@data<span class="token punctuation">.</span>setter</span>
        <span class="token keyword">def</span> <span class="token function">data</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
           self<span class="token punctuation">.</span>_data <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>new_value<span class="token punctuation">)</span>
           self<span class="token punctuation">.</span>notify<span class="token punctuation">(</span><span class="token punctuation">)</span>


     <span class="token keyword">class</span> <span class="token class-name">BinaryFormatter</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;订阅者&quot;&quot;&quot;</span>

        <span class="token keyword">def</span> <span class="token function">notify_by</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> publisher<span class="token punctuation">)</span><span class="token punctuation">:</span>
           <span class="token keyword">print</span><span class="token punctuation">(</span>
                 <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">.</span>__name__<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>publisher<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> has now bin data = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">bin</span><span class="token punctuation">(</span>publisher<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
           <span class="token punctuation">)</span>


     df <span class="token operator">=</span> Formatter<span class="token punctuation">(</span><span class="token string">&quot;formatter&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># 发布者</span>
     bf <span class="token operator">=</span> BinaryFormatter<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 订阅者</span>
     df<span class="token punctuation">.</span>add<span class="token punctuation">(</span>bf<span class="token punctuation">)</span>
     df<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token number">3</span>
     <span class="token comment"># BinaryFormatter: &lt;class 'NameError'&gt; has now bin data = 0b11</span>
     ```

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div></li></ol></li> <li><p>策略模式Strategy</p> <ol><li>根据不同的输入采用不同的策略</li> <li>对外暴露统一的接口，内部采用不同的策略计算</li></ol></li></ol> <h3 id="一般动态语言里说的较少"><a href="#一般动态语言里说的较少" class="header-anchor">#</a> 一般动态语言里说的较少</h3> <h2 id="网络编程"><a href="#网络编程" class="header-anchor">#</a> 网络编程</h2> <ol><li><p>socket</p> <ol><li><p>tcp服端</p></li> <li><p>tcp客户端</p></li></ol></li> <li><p>IO模型</p> <ol><li>select/poll/epoll</li> <li>selectors
<ol><li>事件类型： EVENT_READ, EVENT_WRITE</li> <li>DefaultSelector: 自动根据平台选取合适的IO模型
<ol><li>register(fileobj, events, data=None)</li> <li>unregister(fileobj)</li> <li>modify(fileobj, events, data=None)</li> <li>select(timeout=None): return s[(key,events)]</li> <li>close()</li></ol></li></ol></li> <li>并发网络库
<ol><li>tornado
<ol><li>一个并发网络库同时也是一个web微框架</li> <li>底层基于linux多路复用</li> <li>生态不完善</li></ol></li> <li>gevent
<ol><li>greenlet实现并发，</li> <li>猴子补丁修改内置socket为非阻塞</li> <li>配合gunicorn好gevent部署作为wsgi server</li></ol></li> <li>asyncio
<ol><li>内置并发库</li> <li>协程+事件循环</li></ol></li></ol></li></ol></li></ol> <h2 id="mysql"><a href="#mysql" class="header-anchor">#</a> mysql</h2> <ol><li>事务的原理、特性，事务并发控制
<ol><li>事务时数据库并发控制的基本单位</li> <li>事务可以看作是一系列SQL语句的集合</li> <li>事务要么全部执行成功，要么全部执行失败（回滚）</li> <li>ACID特性：
<ol><li>原子性：一个事务中所有操作全部完成或失败</li> <li>一致性：事务开始和结束之后数据完整性没有被破坏</li> <li>隔离性：允许多个事务同时对数据库读取和修改</li> <li>持久性：事务结束之后，修改是永久的不会丢失</li></ol></li> <li>事务隔离级别
<ol><li>读未提交</li> <li>读已提交</li> <li>可重复读</li> <li>串行化</li></ol></li> <li>如何解决高并发场景下的插入重复
<ol><li>使用数据库唯一索引</li> <li>使用队列异步写入</li> <li>使用redis等实现分布式锁</li></ol></li> <li>乐观锁
<ol><li>先修改，更新时发现数据已经变了就回滚check and set</li> <li>通过版本号或者时间戳</li></ol></li> <li>悲观锁
<ol><li>先获取锁再执行操作。一锁二查三更新select for update</li></ol></li></ol></li> <li>常用的字段、含义和区别
<ol><li>CHAR[Length]</li> <li>VARCHAR[Length]</li> <li>TINYTEXT</li> <li>TEXT</li> <li>TINYINT</li> <li>INT</li> <li>BIGINT</li> <li>FLOAT</li> <li>DOUBLE</li> <li>DATE</li> <li>DATETIME</li> <li>TIMESTAMP</li></ol></li> <li>InnoDB vs MyISAM
<ol><li>InnoDB支持事务、外键、行锁和表锁</li> <li>MyISAM只支持表锁，不支持事务、外键、行锁</li> <li>MyISAM支持全文索引，InnoDB不支持全文索引</li></ol></li> <li>索引
<ol><li>索引时数据表中一个或者多个列进行排序的数据结构</li> <li>索引能够大幅度提升检索速度</li> <li>创建、更新索引本身也会耗费空间和时间</li></ol></li> <li>查找结构进化史
<ol><li>线性查找：一个一个找，实现简单，慢</li> <li>二分查找：有序；简单；要求是有序的，插入特别慢</li> <li>HASH: 查询快；占用空间；不太适合存储大规模数据</li> <li>二分查找树： 插入和查询很快（log(n));无法存大规模数据，复杂度退化</li> <li>平衡树：解决bst退化的问题，树是平衡的；节点非常多的时候，依然树高很高</li> <li>多路查找树：一个父亲多个孩子节点（度）；节点过多树高不会特别深</li> <li>多路平衡查找树：B-Tree
<ol><li>每个节点最多M(m&gt;=2)个孩子，称为m阶或者度</li> <li>叶节点具有相同的深度</li> <li>节点中的数据key从左到右是递增的</li></ol></li> <li>B+Tree
<ol><li>B+树是B-Tree的变形</li> <li>mysql实际使用B+Tree作为索引的数据结构</li> <li>只有叶子节点带指向记录的指针（为什么？可以增加数的度）</li> <li>叶子节点通过指针相连(为什么？实现范围查询)</li></ol></li></ol></li> <li>Mysql索引的类型
<ol><li>普通索引CREATE INDEX</li> <li>唯一索引，索引列的值必须唯一 CREATE UNIQUE INDEX</li> <li>多列索引</li> <li>主键索引PRIMARY KEY,一个表只能有一个</li> <li>全文索引FULLTEXT INDEX，InnoDB不支持</li></ol></li> <li>什么时候创建索引
<ol><li>建表的时候根据查询的需求来创建索引
<ol><li>经常用作查询条件的字段（WHERE条件）</li> <li>经常用作表连接的字段</li> <li>经常出现在order by, group by之后的字段</li></ol></li></ol></li> <li>创建索引时有哪些需要注意的
<ol><li>非空字段 NOT NULL， Mysql很难对空值作查询优化</li> <li>区分度高，离散度大，作为索引的字段值尽量不要有大量相同值</li> <li>索引的长度不要太长（比较耗费时间）</li></ol></li> <li>索引什么时候会失效？
<ol><li>模糊匹配 已%开头的LIKE语句，模糊搜索</li> <li>出现了 类型隐转</li> <li>没有满足最左前缀原则</li> <li>当mysql B+Tree的key没有办法直接比较的时候</li></ol></li> <li>什么是聚集索引？什么是非聚集索引
<ol><li>聚集还是非聚集指的是B+Tree叶节点存的是指针还是数据记录</li> <li>MyISAM索引和数据分离-&gt;非聚集索引</li> <li>InnoDB数据文件就是索引文件-&gt;主键索引就是聚集索引</li></ol></li> <li>如何排查慢查询
<ol><li>慢查询通常是缺少索引，索引不合理或者业务代码实现导致</li> <li>slow_query_log_file开启并且查询慢查询日志</li> <li>通过explain排查索引问题</li> <li>调整数据修改索引;业务代码层限制不合理访问</li></ol></li> <li>sql语句
<ol><li>内连接（INNER JOIN）：两个表都匹配时，才会返回匹配行
<ol><li>将左表和右表能够关联起来的数据连接后返回</li> <li>类似求两个表的“交集”</li> <li><code>select * from A inner join B on a.id=b.id;</code></li></ol></li> <li>外连接（LEFT/RIGHT JOIN）：返回一个表的行，即使另一个没有匹配
<ol><li><code>select * from A left join B on a.id=b.id;</code></li> <li><code>select * from A right join B on a.id=b.id;</code></li></ol></li> <li>全连接（FULL JOIN）：只要一个表存在匹配就返回</li></ol></li></ol> <h2 id="缓存"><a href="#缓存" class="header-anchor">#</a> 缓存</h2> <ol><li>为什么要用缓存 （内存缓存）
<ol><li>缓解关系型数据库并发访问压力：热点数据</li> <li>减少响应时间：内存IO速度比磁盘快</li> <li>提升吞吐量：Redis等内存数据库单机就可以支持很大并发</li></ol></li> <li>redis和memcached主要区别</li> <li>redis常用数据类型与使用场景
<ol><li>string: 用来实现简单的kv键值对存储，比如计数器</li> <li>list：实现双向链表，比如用户的关注，粉丝列表</li> <li>hash：用来存储彼此相关信息的键值对</li> <li>set：存储不重复元素，比如用户的关注者</li> <li>sorted set: 实时信息排行榜</li></ol></li> <li>redis各种内置类型的实现方式
<ol><li>string: 整数或者sds (simple dynamic string)</li> <li>list: ziplist或者double linked list</li> <li>hash: ziplist或者hashtable</li> <li>set：intset或者hashtable</li> <li>sortedset：skiplist跳跃表</li></ol></li> <li>redis持久化
<ol><li>快照方式：把数据快照放在磁盘二进制文件中，dump.rdb</li> <li>AOF(Append Only File): 每一个写命令追加到appendonly.aof中</li> <li>可以通过修改redis配置实现</li></ol></li> <li>redis&quot;事务&quot;
<ol><li>将多个请求打包，一次性、按顺序执行多个命令的机制</li> <li>通过multi,exec,watch等命令实现事务功能</li> <li>redis-py pipeline=conn.pipeline(transaction=True)</li></ol></li> <li>redis如何实现分布式锁？
<ol><li>使用setnx实现加锁，可以同时通过expire添加超时时间</li> <li>锁的value值可以使用一个随机的uuid或者特定的命名</li> <li>释放锁的时候，通过uuid判断是否是该锁，是则执行delete释放锁</li></ol></li> <li>使用缓存的模式？
<ol><li>Cache Aside: 同时更新缓存和数据库</li> <li>Read/Write Through: 先更新缓存，缓存负责同步更新数据库</li> <li>Write Behind Caching: 先更新缓存，缓存定期异步更新数据库</li></ol></li> <li>如何解决缓存穿透问题？
<ol><li>大量查询不到的数据请求落到后端数据库，数据库压力增大</li> <li>由于大量缓存查不到就去数据库取，数据库也没有要查的数据</li> <li>解决：对于没有查询到返回为None的数据也缓存</li> <li>插入数据的时候删除相应缓存，或者设置较短的超时时间</li></ol></li> <li>如何解决缓存击穿问题？
<ol><li>某些非常热点的数据key过期，大量请求打到后端数据库</li> <li>热点数据key失效导致大量请求打到数据库增加数据库压力</li> <li>分布式锁：获取锁的线程从数据库拉数据更新缓存，其他线程等待</li> <li>异步后台更新：后台任务针对过期的key自动刷新</li></ol></li> <li>如何解决缓存雪崩问题？
<ol><li>缓存不可用或者大量缓存key同时失效，大量请求直接打到数据库</li> <li>多级缓存：不同级别的key设置不同的超时时间</li> <li>随机超时：key的超时时间随机设置，防止同时超时</li> <li>架构层：提升系统可用性。监控、报警完善</li></ol></li></ol> <h2 id="python-wsgi与web框架"><a href="#python-wsgi与web框架" class="header-anchor">#</a> Python WSGI与web框架</h2> <ol><li>什么是wsgi
<ol><li>PEP3333 Python Web Server Gateway Interface</li> <li>解决部署问题，替代以前的mod_python,cgi,fastcgi等</li> <li>描述Web Server(gunicorn/uwsgi)如何与web框架交互，web框架如何处理请求</li> <li>def application(environ, start_response)
<ol><li>application就是wsgi app, 一个可调用对象</li> <li>参数
<ol><li>environ: 一个包含wsgi环境信息的字典，
<ol><li>由wsgi服务器提供，常见key有PATH_INFO,</li> <li>QUERY_STRING等</li></ol></li> <li>start_response: 生成wsgi响应的回掉函数，接收两个参数，status和headers</li></ol></li> <li>函数返回响应体的可迭代对象</li></ol></li></ol></li> <li>django/flask/tornado/fastapi</li> <li>web框架的组成（淡化框架，加强基础）</li></ol> <h2 id="asgi"><a href="#asgi" class="header-anchor">#</a> asgi</h2> <h2 id="什么是mvc"><a href="#什么是mvc" class="header-anchor">#</a> 什么是MVC</h2> <ol><li>Model模型</li> <li>View视图</li> <li>Control控制</li></ol> <h2 id="什么是orm"><a href="#什么是orm" class="header-anchor">#</a> 什么是ORM</h2> <ol><li>Object Relational Mapping，对象关系映射</li> <li>用于实现业务对象与数据表中的字段映射</li> <li>优势：代码更加面向对象，代码量更少，灵活性高，提升开发效率</li></ol> <h2 id="python内置数据结构和算法"><a href="#python内置数据结构和算法" class="header-anchor">#</a> python内置数据结构和算法</h2> <table><thead><tr><th>数据结构与算法</th> <th>语言内置</th> <th>内置库</th></tr></thead> <tbody><tr><td>线性结构</td> <td>list/tuple</td> <td>array collections.namedtuple</td></tr> <tr><td>链式结构</td> <td></td> <td>collections.deque(双端队列)</td></tr> <tr><td>字典</td> <td>dict</td> <td>collections.Counter(计数器) OrderedDict(有序字典) defaultdict</td></tr> <tr><td>集合</td> <td>set/frozenset(不可变集合)</td> <td></td></tr> <tr><td>排序算法</td> <td>sorted</td> <td></td></tr> <tr><td>二分算法</td> <td></td> <td>bisect模块</td></tr> <tr><td>堆算法</td> <td></td> <td>heqpq模块</td></tr> <tr><td>缓存算法</td> <td></td> <td>functools.lru_cache</td></tr></tbody></table> <ul><li>dict底层使用哈希表
<ul><li>哈希表平均查找时间复杂度O(1)</li> <li>CPyhton解释器使用二次探查解决哈希冲突问题</li></ul></li> <li>list/tuple区别
<ul><li>都是线性结构，支持下标访问</li> <li>list是可变对象，tuple保存到引用不可变</li> <li>list不能作为字典的key，tuple可以（可变对象不可hash)</li></ul></li> <li>什么时LRUCache
<ul><li>Least-Recently-Used替换掉最近最少使用的对象</li> <li>剔除缓存的策略，当缓存空间不够用的时候需要一种方式剔除key</li> <li>LRU 最近最久未使用算法
<ul><li>LFU 最近最少使用算法</li> <li>先进先出（FIFO，队列）</li></ul></li> <li>LRU通过使用一个循环双端队列不断把最新访问的key放到表头实现</li></ul></li> <li>如何实现LRUCache
<ul><li>字典用来缓存，循环双端链表用来记录访问顺序</li> <li>dict+collections.OrderedDict()实现</li> <li>dict用来做k/v键值对的缓存</li> <li>OrderedDicty用来实现更新最近访问的key</li></ul></li></ul> <p>时空复杂度</p> <table><thead><tr><th>排序算法</th> <th>最差时间</th> <th>平均时间</th> <th>稳定性</th> <th>空间复杂度</th></tr></thead> <tbody><tr><td>冒泡排序</td> <td>O(n^2)</td> <td>O(n^2)</td> <td>稳定</td> <td>O(1)</td></tr> <tr><td>选择排序</td> <td>O(n^2)</td> <td>O(n^2)</td> <td>不稳定</td> <td>O(1)</td></tr> <tr><td>插入排序</td> <td>O(n^2)</td> <td>O(n^2)</td> <td>稳定</td> <td>O(1)</td></tr> <tr><td>快速排序</td> <td>O(n^2)</td> <td>O(n*log2n)</td> <td>不稳定</td> <td>O(log2n)-O(n)</td></tr> <tr><td>堆排序</td> <td>O(n*log2n)</td> <td>O(n*log2n)</td> <td>不稳定</td> <td>O(1)</td></tr></tbody></table> <ul><li><p>排序</p> <ul><li>冒泡排序</li> <li>快速排序</li> <li>归并排序</li> <li>堆排序</li></ul></li> <li><p>查找</p> <ul><li>线性查找</li> <li>二分查找</li></ul></li> <li><p>链表</p> <ul><li>单链表</li> <li></li> <li>双链表</li> <li>循环双端链表</li></ul></li> <li><p>队列</p></li> <li><p>栈</p></li> <li><p>二叉树</p></li> <li><p>堆</p></li> <li><p>字符串</p></li></ul> <h2 id="web安全"><a href="#web安全" class="header-anchor">#</a> web安全</h2> <h3 id="sql注入"><a href="#sql注入" class="header-anchor">#</a> sql注入</h3> <ul><li><p>直接拼接sql语句</p></li> <li><p>cur.execute(sql,(name, password)) 语句会自动进行转义</p></li> <li><p>永远不要相信用户的任何输入</p> <ul><li>对输入参数做好检查（类型和范围）；过滤和转义特殊字符</li> <li>不要直接拼接sql，使用orm可以大大降低sql注入的风险</li> <li>数据库层：做好权限管理配置；不要明文存储敏感信息</li></ul></li></ul> <h3 id="xss"><a href="#xss" class="header-anchor">#</a> xss</h3> <p>跨站脚本攻击</p> <ul><li>恶意用户将代码植入到提供给其他用户使用的页面中，未经转义的恶意代码输出到其它用户的浏览器被执行</li> <li>用户浏览页面的时候嵌入页面中的脚本(js)会被执行，攻击用户</li> <li>反射型</li> <li>存储型</li> <li>dom型</li></ul> <h3 id="csrf"><a href="#csrf" class="header-anchor">#</a> csrf</h3> <h2 id="前后端分离"><a href="#前后端分离" class="header-anchor">#</a> 前后端分离</h2> <ul><li>前后端解耦，可以同步开发，提升工作效率</li> <li>RESTful api，一种以资源为中心的web软件架构风格，可以用ajax和RESTful web服务构建应用</li> <li>GET/POST/PUT/DELETE 获取/新建/更新/删除资源</li></ul> <h2 id="https"><a href="#https" class="header-anchor">#</a> https</h2> <h2 id="系统设计"><a href="#系统设计" class="header-anchor">#</a> 系统设计</h2> <ul><li><p>具备相关领域、算法的经验，有一定的架构设计能力</p></li> <li><p>熟悉后端技术组件，比如消息队列、缓存、数据库、框架</p></li> <li><p>具备文档撰写、流程图绘制、架构设计、编码实现等综合能力</p></li> <li><p>什么场景和条件下使用</p></li> <li><p>设计数据存储系统</p></li> <li><p>设计算法相关的模块</p></li> <li><p>如何设计与实现一个短网址系统</p> <ul><li>什么是短网址系统
<ul><li>把长网址转换为短网址的服务</li> <li>比如 <a href="https://bitly.com/" target="_blank" rel="noopener noreferrer">https://bitly.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>转换之后后缀不超过7位（大小写数字）</li></ul></li> <li>提供短网址服务为公司其它各业务服务</li> <li>插入几百，请求几千
<ul><li>mysql就行了</li> <li>字段： id token url created_at</li> <li>索引： token加索引</li> <li>算法实现：
<ul><li>lang2short_url</li> <li>short2lang_url</li> <li>短网址生成算法</li></ul></li></ul></li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/16/2023, 7:38:35 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c319bac8.js" defer></script><script src="/assets/js/2.ee734a59.js" defer></script><script src="/assets/js/79.527e7a49.js" defer></script>
  </body>
</html>
