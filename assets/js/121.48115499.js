(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{528:function(a,s,n){"use strict";n.r(s);var t=n(56),e=Object(t.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"vagrant"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vagrant"}},[a._v("#")]),a._v(" vagrant")]),a._v(" "),n("ul",[n("li",[n("code",[a._v("https://developer.hashicorp.com/vagrant/tutorials/getting-started?product_intent=vagrant")])]),a._v(" "),n("li",[n("code",[a._v("https://zhuanlan.zhihu.com/p/259833884")])])]),a._v(" "),n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),n("p",[a._v("下载安装包，并安装。\n"),n("code",[a._v("https://releases.hashicorp.com/vagrant/2.4.0/vagrant_2.4.0_windows_amd64.msi")])]),a._v(" "),n("p",[n("code",[a._v("https://releases.hashicorp.com/vagrant-vmware-utility/1.0.22/vagrant-vmware-utility_1.0.22_windows_amd64.msi")])]),a._v(" "),n("p",[a._v("配置环境变量"),n("code",[a._v("VAGRANT_HOME")]),a._v("，默认为"),n("code",[a._v("C:\\Users\\用户名\\.vagrant.d")]),a._v(",该路径用来存储下载的虚拟机镜像")]),a._v(" "),n("p",[a._v("检查是否配置成功")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("PS F:\\> vagrant -v\nVagrant 2.4.0\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("p",[a._v("安装vagrant-vmware-desktop插件")]),a._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[a._v("vagrant plugin install vagrant-vmware-desktop\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h2",{attrs:{id:"help"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#help"}},[a._v("#")]),a._v(" help")]),a._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("PS")]),a._v(" F:\\> vagrant "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("h\nUsage: vagrant "),n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("[options]")]),a._v(" <command> "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("<args>"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("h"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("help                       Print this help"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n\nCommon commands:\n     autocomplete    manages autocomplete installation on host\n     box             manages boxes: installation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" removal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" etc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n     cloud           manages everything related to Vagrant Cloud\n     destroy         stops and deletes all traces of the vagrant machine\n     global-status   outputs status Vagrant environments "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" this user\n     halt            stops the vagrant machine\n     help            shows the help "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" a subcommand\n     init            initializes a new Vagrant environment by creating a Vagrantfile\n     login\n     package         packages a running vagrant environment into a box\n     plugin          manages plugins: install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" uninstall"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" update"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" etc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n     port            displays information about guest port mappings\n     powershell      connects to machine via powershell remoting\n     provision       provisions the vagrant machine\n     push            deploys code in this environment to a configured destination\n     rdp             connects to machine via RDP\n     reload          restarts vagrant machine"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" loads new Vagrantfile configuration\n     resume          resume a suspended vagrant machine\n     serve           "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("start")]),a._v(" Vagrant server\n     snapshot        manages snapshots: saving"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" restoring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" etc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n     ssh             connects to machine via SSH\n     ssh-config      outputs OpenSSH valid configuration to connect to the machine\n     status          outputs status of the vagrant machine\n     suspend         suspends the machine\n     up              starts and provisions the vagrant environment\n     upload          upload to machine via communicator\n     validate        validates the Vagrantfile\n     version         prints current and latest Vagrant version\n     winrm           executes commands on a machine via WinRM\n     winrm-config    outputs WinRM configuration to connect to the machine\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("For")]),a._v(" help on any individual command run `vagrant COMMAND "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("h`\n\nAdditional subcommands are available"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" but are either more advanced\nor not commonly used"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v(" To see all subcommands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" run the command\n`vagrant list-commands`"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("[no-]")]),a._v("color                 Enable or disable color output\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("machine-readable           Enable machine readable output\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("v"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("version                    Display Vagrant version\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("debug                      Enable debug output\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("timestamp                  Enable timestamps on log output\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("debug-timestamp")]),a._v("            Enable debug output with timestamps\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("no-tty                     Enable non-interactive output\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br"),n("span",{staticClass:"line-number"},[a._v("29")]),n("br"),n("span",{staticClass:"line-number"},[a._v("30")]),n("br"),n("span",{staticClass:"line-number"},[a._v("31")]),n("br"),n("span",{staticClass:"line-number"},[a._v("32")]),n("br"),n("span",{staticClass:"line-number"},[a._v("33")]),n("br"),n("span",{staticClass:"line-number"},[a._v("34")]),n("br"),n("span",{staticClass:"line-number"},[a._v("35")]),n("br"),n("span",{staticClass:"line-number"},[a._v("36")]),n("br"),n("span",{staticClass:"line-number"},[a._v("37")]),n("br"),n("span",{staticClass:"line-number"},[a._v("38")]),n("br"),n("span",{staticClass:"line-number"},[a._v("39")]),n("br"),n("span",{staticClass:"line-number"},[a._v("40")]),n("br"),n("span",{staticClass:"line-number"},[a._v("41")]),n("br"),n("span",{staticClass:"line-number"},[a._v("42")]),n("br"),n("span",{staticClass:"line-number"},[a._v("43")]),n("br"),n("span",{staticClass:"line-number"},[a._v("44")]),n("br"),n("span",{staticClass:"line-number"},[a._v("45")]),n("br"),n("span",{staticClass:"line-number"},[a._v("46")]),n("br"),n("span",{staticClass:"line-number"},[a._v("47")]),n("br"),n("span",{staticClass:"line-number"},[a._v("48")]),n("br"),n("span",{staticClass:"line-number"},[a._v("49")]),n("br")])]),n("h2",{attrs:{id:"创建一个虚拟机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建一个虚拟机"}},[a._v("#")]),a._v(" 创建一个虚拟机")]),a._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[a._v("mkdir ubuntu\ncd ubuntu\nvagarnt init generic/ubuntu2204\nvagrant up \n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])]),n("h2",{attrs:{id:"常用操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用操作"}},[a._v("#")]),a._v(" 常用操作")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("vagrant box list #查看本地box列表\nvagrant box add xx.box\nvagrant up \nvagrant status\nvagrant ssh\nvagrant reload\nvagrant destroy\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br")])]),n("h2",{attrs:{id:"vagrantfile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vagrantfile"}},[a._v("#")]),a._v(" Vagrantfile")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('# -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure("2") do |config|\n\n  config.vm.hostname = "devstack"\n  config.vm.box = "generic/ubuntu2204"\n\n  # Disable automatic box update checking. If you disable this, then\n  # boxes will only be checked for updates when the user runs\n  # `vagrant box outdated`. This is not recommended.\n  # config.vm.box_check_update = false\n\n  # Create a forwarded port mapping which allows access to a specific port\n  # within the machine from a port on the host machine. In the example below,\n  # accessing "localhost:8080" will access port 80 on the guest machine.\n  # NOTE: This will enable public access to the opened port\n  # config.vm.network "forwarded_port", guest: 80, host: 8080\n\n  # Create a forwarded port mapping which allows access to a specific port\n  # within the machine from a port on the host machine and only allow access\n  # via 127.0.0.1 to disable public access\n  # config.vm.network "forwarded_port", guest: 80, host: 8080, host_ip: "127.0.0.1"\n\n  # Create a private network, which allows host-only access to the machine\n  # using a specific IP.\n  # config.vm.network "private_network", ip: "192.168.33.10"\n\n  # Create a public network, which generally matched to bridged network.\n  # Bridged networks make the machine appear as another physical device on\n  # your network.\n  config.vm.network "public_network"\n\n  # Share an additional folder to the guest VM. The first argument is\n  # the path on the host to the actual folder. The second argument is\n  # the path on the guest to mount the folder. And the optional third\n  # argument is a set of non-required options.\n  config.vm.synced_folder "./data", "/vagrant_data"\n\n  # Disable the default share of the current code directory. Doing this\n  # provides improved isolation between the vagrant box and your host\n  # by making sure your Vagrantfile isn\'t accessable to the vagrant box.\n  # If you use this you may want to enable additional shared subfolders as\n  # shown above.\n  # config.vm.synced_folder ".", "/vagrant", disabled: true\n\n  config.vm.provider "vmware_desktop" do |vb|\n    # Display the VirtualBox GUI when booting the machine\n    vb.gui = true\n    vb.cpus = 14\n    # Customize the amount of memory on the VM:\n    vb.memory = "14096"\n  end\n  config.vm.provision "shell", inline: <<-SHELL\n    sudo apt-get update && apt-get upgrade && apt-get clean \n    sudo dpkg-reconfigure locales --default-priority zh_CN.UTF-8\n  SHELL\nend\n\n\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br"),n("span",{staticClass:"line-number"},[a._v("29")]),n("br"),n("span",{staticClass:"line-number"},[a._v("30")]),n("br"),n("span",{staticClass:"line-number"},[a._v("31")]),n("br"),n("span",{staticClass:"line-number"},[a._v("32")]),n("br"),n("span",{staticClass:"line-number"},[a._v("33")]),n("br"),n("span",{staticClass:"line-number"},[a._v("34")]),n("br"),n("span",{staticClass:"line-number"},[a._v("35")]),n("br"),n("span",{staticClass:"line-number"},[a._v("36")]),n("br"),n("span",{staticClass:"line-number"},[a._v("37")]),n("br"),n("span",{staticClass:"line-number"},[a._v("38")]),n("br"),n("span",{staticClass:"line-number"},[a._v("39")]),n("br"),n("span",{staticClass:"line-number"},[a._v("40")]),n("br"),n("span",{staticClass:"line-number"},[a._v("41")]),n("br"),n("span",{staticClass:"line-number"},[a._v("42")]),n("br"),n("span",{staticClass:"line-number"},[a._v("43")]),n("br"),n("span",{staticClass:"line-number"},[a._v("44")]),n("br"),n("span",{staticClass:"line-number"},[a._v("45")]),n("br"),n("span",{staticClass:"line-number"},[a._v("46")]),n("br"),n("span",{staticClass:"line-number"},[a._v("47")]),n("br"),n("span",{staticClass:"line-number"},[a._v("48")]),n("br"),n("span",{staticClass:"line-number"},[a._v("49")]),n("br"),n("span",{staticClass:"line-number"},[a._v("50")]),n("br"),n("span",{staticClass:"line-number"},[a._v("51")]),n("br"),n("span",{staticClass:"line-number"},[a._v("52")]),n("br"),n("span",{staticClass:"line-number"},[a._v("53")]),n("br"),n("span",{staticClass:"line-number"},[a._v("54")]),n("br"),n("span",{staticClass:"line-number"},[a._v("55")]),n("br"),n("span",{staticClass:"line-number"},[a._v("56")]),n("br"),n("span",{staticClass:"line-number"},[a._v("57")]),n("br"),n("span",{staticClass:"line-number"},[a._v("58")]),n("br"),n("span",{staticClass:"line-number"},[a._v("59")]),n("br"),n("span",{staticClass:"line-number"},[a._v("60")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);